Follow the following folder-structure for creating these files:

**KBA-CHF -> KBA-Automobile -> Fabric-network**

All the files should be present inside this folder-structure

## Cryptogen

To generate crytpo metrials using cryptogen execute

```bash
cryptogen generate --config=./crypto-config.yaml --output="organizations"
```

To Decode a certificate to see metada: https://www.sslshopper.com/certificate-decoder.html

For getting public key from certificate

```bash
openssl x509 -in ca.example.com-cert.pem -pubkey -noout
```

Delete the files generated by cryptogen

```bash
sudo rm -rf organizations/
```

## FABRIC-CA

Now for Fabric CA, create docker file and run

```bash
docker-compose -f docker/docker-compose-ca.yaml up -d
```

Then register and enroll using script file

```bash
sudo chmod -R 777 organizations/

chmod +x registerEnroll.sh

./registerEnroll.sh
```

Remove the certificates

```bash
docker-compose -f docker/docker-compose-ca.yaml down

docker volume rm $(docker volume ls -q)

    sudo rm -rf organizations/
```